<h1>Create a Listing</h1>
<%= @currentuser %>
<% if flash[:notice] %>
  <p><%= flash[:notice] %></p><br/>
<% end %>

<%= form_tag("/listings/post_create", :method => "post", :multipart => true, :class => "form-horizontal", :role => "form") do %>
  <fieldset>
  <legend>New Listing</legend>
  <div class="form-group">
    <%= label_tag(:name, "Listing Name", :class => "col-md-4 control-label", :for => "text-input") %>
    <div class="col-md-4"><%= text_field_tag(:name, nil, :class => "form-control input-md", :placeholder => "e.g. Fountain-hopping Adventure") %></div>
  </div>
  <div class="form-group">
    <%= label_tag(:description, "Description", :class => "col-md-4 control-label", :for => "text-input") %>
    <div class="col-md-4"><%= text_area_tag(:description, nil, :class => "form-control", :id => "textarea", :rows => "3") %></div>
  </div>
  <%= label_tag(:dates, "Dates", :class => "col-md-4 control-label", :for => "text-input") %>
  <div id="cal"></div>
  <%= hidden_field_tag(:dates, nil, :class => "form-control", :value => "hi", :id => "dates") %>
  <%= hidden_field_tag(:currentuser, nil, :class => "form-control", :value => @currentuser, :id => "currentuser") %>
  <script>
    $(document).ready(function(){
      $('#cal').datepicker({
        multidate: true,
        format: "mm-dd-yyyy"
      });
      $('#dates').val($('#cal').datepicker('getDates'));
    });
  </script>

  <div class="form-group">
    <%= label_tag(:category, "Category", :class => "col-md-4 control-label", :for => "selectbasic") %>
    <div class="col-md-4"><%= select_tag :category, options_for_select(['Eat', 'Nightlife', 'Outdoors', 'Sightseeing']), :id => "selectbasic", :class => "form-control"%></div>
  </div>
  <div class="form-group">
    <%= label_tag(:city, "City", :class => "col-md-4 control-label", :for => "selectbasic") %>
    <div class="col-md-4"><%= select_tag :city, options_for_select(['New York', 'San Francisco']), :id => "selectbasic", :class => "form-control"%></div>
  </div>
  <div class="form-group">
    <%= label_tag(:photo, "Upload Photo", :class => "col-md-4 control-label", :for => "filebutton") %>
    <div class="col-md-4"><%= file_field_tag(:photo, :class => "input-file", :id => "filebutton") %></div>
  </div>
  <div class="form-group">
    <label class="col-md-4 control-label" for="singlebutton"></label>
    <div class="col-md-4">
      <%= submit_tag("Submit", :class=>"btn btn-primary", :id=>"singlebutton", :onchange => "$('#dates').val($('#cal').datepicker('getDates'));" ) %>
    </div>
  </div>
</fieldset>
<% end %>

<!--<%= form_for(@listing, :url => {:controller => 'listings', :action => 'post_create'}) do |form| %>
  <div>Name: <%= form.text_field(:name) %></div>
  <div>Description: <%= form.text_area(:description) %></div>
  <div>Category: <%= form.select :category, ['Eat', 'Outdoors', 'Nightlife', 'Sightseeing'] %></div>
  <div>City: <%= form.select :city, ['New York', 'San Francisco'] %></div>
  <div>User: <%= form.select :user_id, options_from_collection_for_select(@users, 'id', 'name', 1) %></div>
  <%= label_tag(:photo, "Upload Photo") %>
  <%= file_field_tag(:photo) %>
  <div><%= form.submit "Add Listing" %></div>
<% end %>-->